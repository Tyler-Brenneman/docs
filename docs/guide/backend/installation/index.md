---
title: Installation
---

# {{ $frontmatter.title }}

Installation is straightforward and easy. Please ensure your read the below carefully as some manual steps are needed to finish the installation.

## Install methods

There are currently two methods available to install AEM Vite.

### Using a release package

The simple method to get AEM Vite installed is by downloading the latest release from GitHub. Download the `aem-vite.all.zip` file, upload it using the CRXDE package manager and install it.

https://github.com/aem-vite/aem-vite/releases/latest

### Using a Maven dependency

::: tip Recommended
This method is recommended as it ensures everyone working on the project and all environments are using the same version of AEM Vite.
:::

Add the `aem-vite.all` package as a Maven dependency in your apps `pom.xml` file.

```xml
<dependency>
  <groupId>dev.aemvite</groupId>
  <artifactId>aem-vite.all</artifactId>
  <version>1.0.0</version>
</dependency>
```

Next, add the following to your [FileVault](https://jackrabbit.apache.org/filevault/overview.html) configuration; remembering to change the `<target>` path to suit your project structure.

```xml
<embedded>
  <groupId>dev.aemvite</groupId>
  <artifactId>aem-vite.all</artifactId>
  <type>zip</type>
  <target>/apps/${appId}-packages/application/install</target>
</embedded>
```

### Runmode considerations

Consideration should be taken when using AEM Vite as an embedded package. It is recommended that you change the target to `install.local` and have your local development environments use the `local` runmode for example.

Running AEM Vite on non-local environments is possible and makes debugging possible through the use of tools such as ngrok, but is not recommended.

### Dependencies

The current dependencies are:

- ACS Commons 4.11.0 or greater

This may change in the near future to provide compatibility to projects that don't rely on the aforementioned dependencies.

## Configure ClientLibs

As Vite natively builds ES modules by default it is important to have AEM generate `<script module>` tags for your ClientLibs.

### Update your template(s)

The first change needed will be switch from the built-in `clientlib.html` HTL template to the AEM Vite template. Start by opening all of your page components/templates and change:

```html
<sly
  data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html"
></sly>
```

to

```html
<sly
  data-sly-use.clientlib="/apps/aem-vite/granite/sightly/templates/clientlib.html"
></sly>
```

### Add `esModule` HTL binding

Within the same file(s), locate all your `data-sly-call` instances for `clientlib.<type>` where `<type>` refers to **all** or **js**. Update all instances where you require ES module support. Adding the `esModule` binding won't automatically enable ES modules which you will need to enable in the next step.

```html
<sly
  data-sly-test="${clientLibCategoriesJsHead}"
  data-sly-call="${clientlib.js @ categories=clientLibCategoriesJsHead, esModule=true}"
></sly>
```

### Add `esModule` ClientLib property

Next, open your ClientLibs folder/configuration and after `allowProxy` add the `esModule` property which instructs the custom ClientLibs handler in AEM Vite to generate `<script>` tags with the `module` attribute.

See the example below.

```xml
<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0"
  jcr:primaryType="cq:ClientLibraryFolder"
  allowProxy="{Boolean}true"
  esModule="{Boolean}true"/>
```

::: tip
Only add the `esModule` property to ClientLibs that will be consuming ES bundles generated by Vite. Adding it to non-ES modules won't break things in general but is not recommended.
:::
